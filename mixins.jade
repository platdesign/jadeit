//- Google Analytics
mixin google-analytics(ID, Domainname)
	script
		| (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		| ga('create', '#{ID}', '#{Domainname}');
		| ga('send', 'pageview');



mixin js(URL)
	script(src=URL)

mixin css(URL)
	link(rel="stylesheet" href=URL)


mixin conditionalComment(condition)
	| <!--[!{condition}]>
	block
	| <![endif]-->


//- Browsehappy
mixin browsehappy
	+conditionalComment('if lte IE 7')
		p.browsehappy
			| You are using an 
			b outdated
			|  browser. Please 
			a(href="http://browsehappy.com/") upgrade your browser
			|  to improve your experience.



mixin og-meta(key, val)
	if val
		meta(property="og:" + key, content=val)


mixin meta(key, val)
	if val
		meta(name=key, content=val)


mixin page-meta(page)
	+meta('description', page.description)
	+meta('author', page.author)
	+meta('keywords', page.keywords)
	+og-meta('title', page.og.title || page.title)
	+og-meta('site_name', page.og.site_name || page.site_name)
	+og-meta('description', page.og.description || page.description)
	+og-meta('image', page.og.image)
	+og-meta('url', page.url)
	+og-meta('type', page.type)







mixin hcard-label-value-list(classname, data)
	- if(!(data instanceof Array)) { data = [data] };
	each item in data
		if item.value
			div(class=classname)
				if item.type
					span.type= item.type
				if block
					block
				else
					span.value= item.value


mixin hcard-adr(data)
	- if(!(data instanceof Array)) { data = [data] };
	each item in data
		li: address.adr
			if item.type
				.type= item.type
			if item.postOfficeBox
				.post-office-box= item.postOfficeBox
			if item.streetAddress
				.street-address= item.streetAddress
			if item.extendedAddress
				.extended-address= item.extendedAddress
			if item.postalCode
				span.postal-code= item.postalCode + ' '
			if item.locality
				span.locality= item.locality
			if item.region
				.region= item.region
			if item.countryName
				.country-name= item.countryName


mixin hcard-n(data)
	.n
		if data.honorificPrefix
			span.honorific-prefix= data.honorificPrefix + ' '
		if data.honorificSuffix
			span.honorific-suffix= data.honorificSuffix + ' '
		if data.givenName
			span.given-name= data.givenName + ' '
		if data.additionalName
			span.additional-name= data.additionalName + ' '
		if data.familyName
			span.family-name= data.familyName


mixin email(value)
	a(href="mailto:" + value)= value

mixin tel(value)
	a(href="tel:" + value.replace(/\D/g, ''))= value


mixin hcard(data)
	//- http://microformats.org/wiki/hcard#Property_List
	.vcard
		if data.org
			.org= data.org
		if data.n
			+hcard-n(data.n)
		if data.fn
			.fn !{data.fn}
		if data.nickname
			.nickname= data.nickname
		if data.adr
			+hcard-adr(data.adr)

		if data.tel
			- if(!(data.tel instanceof Array)) { data.tel = [data.tel] };
			each item in data.tel
				if item.value
					li.tel
						if item.fa
							span.fa(class=item.fa)
						if item.type
							span.type= item.type
						span.value: +tel(item.value)

		if data.email
			- if(!(data.email instanceof Array)) { data.email = [data.email] };
			each item in data.email
				if item.value
					li.email
						if item.fa
							span.fa(class=item.fa)
						if item.type
							span.type= item.type
						span.value: +email(item.value)

		if data.url
			- if(!(data.url instanceof Array)) { data.url = [data.url] };
			each item in data.url
				if item.value
					li.url
						if item.fa
							span.fa(class=item.fa)
						if item.type
							span.type= item.type
						span.value: a(href=item.value)= item.value.replace(/(http:\/\/)|(https:\/\/)/, '')

		if data.bday
			.bday= data.bday
		if data.category
			.category= data.category
		if data.note
			.note= data.note










